---
title: "Online Appendix: The Meaning of Losing"
author:
  - name: Jeffrey Stark
    affiliations:
      - name: Yonsei University
        department: Department of Sociology
    email: jeffrey.stark@yonsei.ac.kr
date: today
format:
  pdf:
    documentclass: article
    classoption: [letterpaper, 12pt]
    geometry: margin=1in
    linestretch: 2
    number-sections: true
    colorlinks: true
    linkcolor: blue
    urlcolor: blue
    citecolor: blue
    keep-tex: true
    include-in-header:
      text: |
        \usepackage{threeparttable}
        \usepackage{threeparttablex}
        \renewcommand{\thesection}{\Alph{section}}
        \renewcommand{\thesubsection}{\Alph{section}.\arabic{subsection}}
        \renewcommand{\thetable}{\Alph{section}\arabic{table}}
        \renewcommand{\thefigure}{\Alph{section}\arabic{figure}}
  html:
    toc: true
    toc-depth: 3
    number-sections: true
    theme: cosmo
  docx:
    toc: true
    number-sections: true
    prefer-html: true
bibliography: Winners-losers.bib
nocite: |
  @CEC2004, @CEC2008, @CEC2016, @NEC2008, @NEC2012, @NEC2020, @ECT2007, @ECT2019, @IFES_ElectionGuide
csl: chicago-author-date.csl
execute:
  echo: false
  warning: false
  message: false
prefer-html: true
---

```{r setup}
library(tidyverse)
library(knitr)
library(kableExtra)
library(here)

here::i_am("papers/meaning-of-democracy/manuscript/online_appendix.qmd")

# Results directory (multinomial logit analysis outputs)
results_dir <- here("papers", "meaning-of-democracy-revision", "analysis", "revised", "results")
data_dir <- here("papers", "meaning-of-democracy-revision", "analysis", "revised", "data")

# Helper function to safely load files
safe_read <- function(path, type = "rds") {
  if (!file.exists(path)) {
    warning(paste("File not found:", path))
    return(NULL)
  }
  if (type == "rds") readRDS(path)
  else if (type == "csv") read_csv(path, show_col_types = FALSE)
  else stop("Unknown type")
}

# Load data files
item_meta <- safe_read(file.path(data_dir, "item_metadata.rds"))
w2_data <- safe_read(file.path(data_dir, "w2_baseline.rds"))
w346_data <- safe_read(file.path(data_dir, "w346_main.rds"))

# Load results files
cw_ames <- safe_read(file.path(results_dir, "country_wave_item_ames.csv"), "csv")
cw_gap <- safe_read(file.path(results_dir, "country_wave_proc_sub_gap.csv"), "csv")
pooled_results <- safe_read(file.path(results_dir, "loser_effects_all_items.csv"), "csv")
mlogit_results <- safe_read(file.path(results_dir, "mlogit_results.rds"))
```

# Survey Items and Coding {#sec-items}

This section documents the survey items used to measure conceptions of democracy across the Asian Barometer Survey waves.

## Item Reference Table

```{r tbl-items}
#| tbl-cap: "Survey Items by Set and Type"

if (!is.null(item_meta)) {
  item_meta %>%
    select(set, value, item_label, item_type, item_subtype) %>%
    rename(
      Set = set,
      Value = value,
      `Item Label` = item_label,
      `Item Type` = item_type,
      Subtype = item_subtype
    ) %>%
    kable(booktabs = TRUE) %>%
    kable_styling(latex_options = c("hold_position", "striped"),
                  font_size = 10) %>%
    pack_rows("Wave 2", 1, 4) %>%
    pack_rows("Set 1 (W3/W4/W6)", 5, 8) %>%
    pack_rows("Set 2 (W3/W4/W6)", 9, 12) %>%
    pack_rows("Set 3 (W3/W4/W6)", 13, 16) %>%
    pack_rows("Set 4 (W3/W4/W6)", 17, 20)
} else {
  cat("**Warning:** Item metadata file not found.")
}
```

**Note:** Wave 2 employed a single forced-choice item with four response options, while Waves 3, 4, and 6 used four separate item sets (Sets 1--4), each presenting four response options. The W2 instrument differs from the later waves and is analyzed separately.

# Electoral Status Coding {#sec-electoral-status}

This section documents how respondents are classified as electoral winners or losers, the reference elections used for each country-wave, and independent verification of the coding for three countries featured in the trajectory analysis.

## Variable Construction

Electoral status is derived from the ABS vote-choice variable: q34a in Waves 4 and 6, q33a in Wave 3, and q39a in Wave 2. For each country-wave, the ABS research team matches each respondent's self-reported vote choice to the outcome of the most recent national election held prior to fieldwork. Respondents are classified as:

- **Winner** (coded 1): voted for the winning party, elected president, or a coalition partner in the governing coalition.
- **Loser** (coded 2): voted for any non-governing party.

This binary classification is applied uniformly across all eleven analysis countries. Respondents with missing, refused, or invalid vote-choice responses are excluded from the analysis. The variable `electoral_status` used throughout the paper reflects this binary coding.

## Reference Elections

Table B1 reports the reference election for each country-wave in the analysis, including the election type, date, winning and runner-up parties or candidates, and source. Dashes indicate the country was not surveyed in that wave. Wave 5 is excluded from the analysis because it did not include the relevant democracy conception items.

```{r tbl-reference-elections}
#| tbl-cap: "Reference Elections by Country and Wave"

ref_elections <- tibble::tribble(
  ~Country, ~Wave, ~`Election Type`, ~Date, ~Winner, ~`Runner-up`, ~Source,
  "Japan", "W2", "House of Reps", "Sep 2005", "LDP (Koizumi)", "DPJ", "IFES",
  "Japan", "W3", "House of Reps", "Aug 2009", "DPJ (Hatoyama)", "LDP", "IFES",
  "Japan", "W4", "House of Reps", "Dec 2012", "LDP (Abe)", "DPJ", "IFES",
  "Japan", "W6", "House of Reps", "Oct 2021", "LDP (Kishida)", "CDP", "IFES",
  "S. Korea", "W3", "Presidential", "Dec 2007", "Lee Myung-bak (GNP)", "Chung Dong-young", "NEC",
  "S. Korea", "W4", "Presidential", "Dec 2012", "Park Geun-hye (Saenuri)", "Moon Jae-in", "NEC",
  "S. Korea", "W6", "Presidential", "Mar 2022", "Yoon Suk Yeol (PPP)", "Lee Jae-myung", "NEC",
  "Mongolia", "W2", "Parliamentary", "Jun 2004", "MPRP", "MDC", "IFES",
  "Mongolia", "W3", "Parliamentary", "Jun 2008", "MPRP", "DP", "IFES",
  "Mongolia", "W4", "Parliamentary", "Jun 2012", "DP", "MPP", "IFES",
  "Philippines", "W2", "Presidential", "May 2004", "Arroyo (Lakas)", "Poe (KNP)", "IFES",
  "Philippines", "W3", "Presidential", "May 2010", "Aquino III (LP)", "Estrada", "IFES",
  "Philippines", "W4", "Midterm", "May 2013", "LP coalition", "UNA", "IFES",
  "Philippines", "W6", "Presidential", "May 2022", "Marcos Jr. (PFP)", "Robredo (LP)", "IFES",
  "Taiwan", "W2", "Presidential", "Mar 2004", "Chen Shui-bian (DPP)", "Lien Chan (KMT)", "CEC",
  "Taiwan", "W3", "Presidential", "Mar 2008", "Ma Ying-jeou (KMT)", "Hsieh (DPP)", "CEC",
  "Taiwan", "W4", "Presidential", "Jan 2012", "Ma Ying-jeou (KMT)", "Tsai Ing-wen (DPP)", "CEC",
  "Taiwan", "W6", "Presidential", "Jan 2020", "Tsai Ing-wen (DPP)", "Han Kuo-yu (KMT)", "CEC",
  "Thailand", "W3", "Parliamentary", "Dec 2007", "PPP (pro-Thaksin)", "Democrat Party", "ECT",
  "Thailand", "W4", "---", "---", "Excluded (2014 coup)", "---", "---",
  "Thailand", "W6", "Parliamentary", "Mar 2019", "PPRP coalition", "Pheu Thai", "ECT",
  "Indonesia", "W2", "Presidential", "Sep 2004", "SBY (Democrat)", "Megawati (PDI-P)", "IFES",
  "Indonesia", "W3", "Presidential", "Jul 2009", "SBY (Democrat)", "Megawati (PDI-P)", "IFES",
  "Indonesia", "W4", "Presidential", "Jul 2014", "Jokowi (PDI-P)", "Prabowo (Gerindra)", "IFES",
  "Indonesia", "W6", "Presidential", "Apr 2019", "Jokowi (PDI-P)", "Prabowo (Gerindra)", "IFES",
  "Cambodia", "W3", "National Assembly", "Jul 2008", "CPP (Hun Sen)", "SRP", "IFES",
  "Cambodia", "W4", "National Assembly", "Jul 2013", "CPP (Hun Sen)", "CNRP", "IFES",
  "Cambodia", "W6", "National Assembly", "Jul 2018", "CPP (Hun Sen)", "CNRP dissolved", "IFES",
  "Malaysia", "W2", "General election", "Mar 2004", "BN (Abdullah)", "PAS/DAP", "IFES",
  "Malaysia", "W3", "General election", "Mar 2008", "BN (Abdullah)", "PR coalition", "IFES",
  "Malaysia", "W4", "General election", "May 2013", "BN (Najib)", "PR (Anwar)", "IFES",
  "Malaysia", "W6", "General election", "Nov 2022", "PH (Anwar)", "PN (Muhyiddin)", "IFES",
  "Myanmar", "W4", "General election", "Nov 2015", "NLD (Aung San Suu Kyi)", "USDP", "IFES",
  "Australia", "W4", "Federal election", "Sep 2013", "Coalition (Abbott)", "ALP (Rudd)", "IFES"
)

if (knitr::is_latex_output()) {
  ref_elections %>%
    kbl(booktabs = TRUE, longtable = TRUE, linesep = "") %>%
    kable_styling(
      latex_options = c("hold_position", "repeat_header", "scale_down"),
      font_size = 8
    ) %>%
    column_spec(1, width = "2cm") %>%
    column_spec(2, width = "0.8cm") %>%
    column_spec(3, width = "2.2cm") %>%
    column_spec(4, width = "1.5cm") %>%
    column_spec(5, width = "3.5cm") %>%
    column_spec(6, width = "3cm") %>%
    column_spec(7, width = "1.8cm") %>%
    footnote(
      general = "Dashes indicate the country was not surveyed in that wave or, for Thailand W4, that no valid reference election existed. Source abbreviations: NEC = National Election Commission of Korea; CEC = Central Election Commission of Taiwan; ECT = Election Commission of Thailand; IFES = IFES ElectionGuide [@International-Foundation-for-Electoral-Systems2024-vn].",
      general_title = "Note: ",
      footnote_as_chunk = TRUE,
      threeparttable = TRUE
    )
} else {
  ref_elections %>%
    kable(format = "pipe", align = c("l", "c", "l", "l", "l", "l", "l"))
}
```

## Independent Verification --- Taiwan, South Korea, Thailand

For the three countries featured in detailed trajectory analysis, the ABS winner/loser coding was independently verified against official election commission data. The verification procedure involved four steps:

1. Raw vote-choice codes were extracted from the ABS microdata (q34/q33/q39 depending on wave).
2. Wave-specific party crosswalks were constructed, mapping each numeric vote-choice code to the corresponding party name and coalition alignment.
3. Coalition assignments were matched to official election outcomes to determine winner/loser status.
4. Results were cross-checked against published data from national election commissions.

Table B2 reports the verification results.

```{r tbl-verification}
#| tbl-cap: "Independent Verification of Electoral Status Coding"

verification <- tibble::tribble(
  ~Country, ~Wave, ~Election, ~`Official Winner (%)`, ~`Official Runner-up (%)`, ~`Our Coding`, ~Status,
  "Taiwan", "W2", "2004 Pres", "Chen (DPP) 50.1%", "Lien (KMT) 49.9%", "pan-green = winner", "Verified",
  "Taiwan", "W3", "2008 Pres", "Ma (KMT) 58.5%", "Hsieh (DPP) 41.6%", "pan-blue = winner", "Verified",
  "Taiwan", "W4", "2012 Pres", "Ma (KMT) 51.6%", "Tsai (DPP) 45.6%", "pan-blue = winner", "Verified",
  "Taiwan", "W6", "2020 Pres", "Tsai (DPP) 57.1%", "Han (KMT) 38.6%", "pan-green = winner", "Verified",
  "S. Korea", "W3", "2007 Pres", "Lee (GNP) 48.7%", "Chung (UNDP) 26.1%", "conservative = winner", "Verified",
  "S. Korea", "W4", "2012 Pres", "Park (Saenuri) 51.6%", "Moon (DUP) 48.0%", "conservative = winner", "Verified",
  "S. Korea", "W6", "2022 Pres", "Yoon (PPP) 48.6%", "Lee (Dem) 47.8%", "conservative = winner", "Verified",
  "Thailand", "W3", "2007 Parl", "PPP 233 seats", "Democrat 164 seats", "pro-Thaksin = winner", "Verified",
  "Thailand", "W4", "---", "No valid election", "---", "NA (excluded)", "Verified",
  "Thailand", "W6", "2019 Parl", "PPRP coalition", "Pheu Thai 136 seats", "pro-military = winner", "Verified"
)

if (knitr::is_latex_output()) {
  verification %>%
    kbl(booktabs = TRUE, linesep = "") %>%
    kable_styling(
      latex_options = c("hold_position", "scale_down"),
      font_size = 9
    ) %>%
    column_spec(1, width = "1.5cm") %>%
    column_spec(2, width = "0.8cm") %>%
    column_spec(3, width = "1.8cm") %>%
    column_spec(4, width = "2.8cm") %>%
    column_spec(5, width = "2.8cm") %>%
    column_spec(6, width = "3cm") %>%
    column_spec(7, width = "1.2cm") %>%
    footnote(
      general = "Sources: Central Election Commission of Taiwan (2004, 2008, 2016); National Election Commission of Korea (2008, 2012, 2020); Election Commission of Thailand (2007, 2019); IFES Election Guide (2024).",
      general_title = "Note: ",
      footnote_as_chunk = TRUE,
      threeparttable = TRUE
    )
} else {
  verification %>%
    kable(format = "pipe", align = c("l", "c", "l", "l", "l", "l", "c"))
}
```

Two features of the party coding merit additional comment:

**Party code instability in South Korea.** South Korea's frequent party reorganizations mean that the same numeric vote-choice code in the ABS microdata can represent different parties across waves. For example, code 301 corresponds to the progressive Uri Party in Waves 2--3, the conservative Saenuri Party in Wave 4, and the progressive Democratic Party in Waves 5--6. Wave-specific crosswalks were constructed to ensure correct coalition assignment despite this instability.

**Party lineage in Thailand.** Pro-Thaksin parties underwent successive dissolutions by court order---Thai Rak Thai (dissolved 2007), People's Power Party (dissolved 2008), and the successor Pheu Thai Party. The crosswalk tracks party lineage rather than party name, assigning all pro-Thaksin successor parties to the same coalition alignment across waves.

## Special Cases

**Thailand Wave 4 (fieldwork August--October 2014).** Thailand's February 2, 2014 general election was annulled by the Constitutional Court on March 21, 2014, and the military seized power in a coup on May 22, 2014---before ABS fieldwork began. With no valid prior election to reference, all Thailand Wave 4 respondents are coded as missing for electoral status and excluded from the winner-loser analysis.

**Thailand Wave 6 --- government formation.** In the March 2019 election, Pheu Thai won the most seats (136) but Palang Pracharath (PPRP, 116 seats) formed the governing coalition with allied parties and the support of the military-appointed Senate. Respondents are coded as winners or losers based on government formation rather than seat plurality, consistent with the standard practice of defining winners by who governs [@ECT2019].

**Cambodia Wave 6.** The Cambodia National Rescue Party (CNRP) was dissolved by court order in November 2017, before the July 2018 election. The CPP ran effectively unopposed. Respondents who reported voting for minor parties are coded as losers, though the meaningful opposition had been eliminated.

# Sample Composition {#sec-sample}

## Sample Size by Country and Wave

```{r tbl-sample}
#| tbl-cap: "Sample Composition by Country and Wave"

if (!is.null(w2_data) && !is.null(w346_data)) {
  # Combine data
  w2_summary <- w2_data %>%
    mutate(wave_label = "W2") %>%
    group_by(country_name, wave_label) %>%
    summarise(
      N = n(),
      N_winner = sum(loser == 0),
      N_loser = sum(loser == 1),
      pct_loser = mean(loser) * 100,
      .groups = "drop"
    )

  w346_summary <- w346_data %>%
    group_by(country_name, wave_label) %>%
    summarise(
      N = n(),
      N_winner = sum(loser == 0),
      N_loser = sum(loser == 1),
      pct_loser = mean(loser) * 100,
      .groups = "drop"
    )

  sample_summary <- bind_rows(w2_summary, w346_summary) %>%
    arrange(country_name, wave_label)

  # Wide format for display
  sample_wide <- sample_summary %>%
    select(country_name, wave_label, N) %>%
    mutate(wave_label = factor(wave_label, levels = c("W2", "W3", "W4", "W6"))) %>%
    pivot_wider(names_from = wave_label, values_from = N, values_fill = 0) %>%
    select(country_name, W2, W3, W4, W6) %>%
    mutate(Total = W2 + W3 + W4 + W6) %>%
    arrange(country_name)

  # Add column totals
  col_totals <- sample_wide %>%
    summarise(across(where(is.numeric), sum)) %>%
    mutate(country_name = "**Total**")

  sample_wide <- bind_rows(sample_wide, col_totals)

  sample_wide %>%
    rename(Country = country_name) %>%
    kable(booktabs = TRUE, format.args = list(big.mark = ",")) %>%
    kable_styling(latex_options = c("hold_position", "striped"))
} else {
  cat("**Warning:** Data files not found. Cannot generate sample table.")
}
```

## Response Distributions by Winner/Loser Status

```{r tbl-response-dist}
#| tbl-cap: "Response Distributions by Electoral Status (Pooled)"

if (!is.null(w346_data)) {
  # Function to compute cross-tabs for a set
  compute_crosstab <- function(data, set_num) {
    choice_var <- paste0("set", set_num, "_choice")
    valid_var <- paste0("set", set_num, "_valid")

    data %>%
      filter(.data[[valid_var]]) %>%
      mutate(choice = .data[[choice_var]]) %>%
      group_by(loser, choice) %>%
      summarise(n = n(), .groups = "drop") %>%
      group_by(loser) %>%
      mutate(pct = n / sum(n) * 100) %>%
      ungroup() %>%
      select(loser, choice, pct) %>%
      pivot_wider(names_from = loser, values_from = pct, names_prefix = "loser_") %>%
      mutate(
        Winner = loser_0,
        Loser = loser_1,
        Diff = loser_1 - loser_0,
        Set = paste0("Set ", set_num)
      ) %>%
      select(Set, Item = choice, Winner, Loser, Diff)
  }

  # Compute for all sets
  all_crosstabs <- map_dfr(1:4, ~compute_crosstab(w346_data, .x))

  all_crosstabs %>%
    mutate(
      Winner = sprintf("%.1f%%", Winner),
      Loser = sprintf("%.1f%%", Loser),
      Diff = sprintf("%+.1f", Diff)
    ) %>%
    kable(booktabs = TRUE, align = c("l", "l", "r", "r", "r")) %>%
    kable_styling(latex_options = c("hold_position", "striped"),
                  font_size = 9) %>%
    pack_rows("Set 1", 1, 4) %>%
    pack_rows("Set 2", 5, 8) %>%
    pack_rows("Set 3", 9, 12) %>%
    pack_rows("Set 4", 13, 16)
} else {
  cat("**Warning:** W346 data file not found.")
}
```

**Note:** Diff = Loser - Winner. Positive values indicate losers are more likely to choose that item.

## Non-Voter Rates by Country and Wave

The main analysis restricts attention to respondents who reported voting in the most recent national election. Table \@ref(tab:tbl-nonvoter-rates) reports the proportion of non-voters among respondents with valid democracy conception responses.

```{r tbl-nonvoter-rates}
#| tbl-cap: "Non-Voter Rates by Country and Wave"

# Load master data
abs <- readRDS(here("data", "processed", "abs_econdev_authpref.rds"))

# Country name mapping (11 analysis countries)
country_names <- c(
  `1` = "Japan", `3` = "South Korea", `5` = "Mongolia",
  `6` = "Philippines", `7` = "Taiwan", `8` = "Thailand",
  `9` = "Indonesia", `12` = "Cambodia", `13` = "Malaysia",
  `14` = "Myanmar", `15` = "Australia"
)

nonvoter_tab <- abs %>%
  filter(
    !is.na(voted_last_election),
    !country %in% c(2, 4, 10, 11)   # Exclude HK, China, Singapore, Vietnam
  ) %>%
  mutate(country_name = country_names[as.character(country)]) %>%
  filter(!is.na(country_name)) %>%
  group_by(country_name, wave) %>%
  summarise(
    N_total   = n(),
    N_voter   = sum(voted_last_election == 1, na.rm = TRUE),
    N_nonvote = sum(voted_last_election == 0, na.rm = TRUE),
    Pct_nonvote = round(100 * N_nonvote / N_total, 1),
    .groups = "drop"
  )

# Pivot to wide format: one row per country, columns per wave
tab_wide <- nonvoter_tab %>%
  select(country_name, wave, N_total, Pct_nonvote) %>%
  pivot_wider(
    names_from = wave,
    values_from = c(N_total, Pct_nonvote),
    names_sep = "_W"
  ) %>%
  arrange(country_name)

# Determine which waves are present
waves_present <- sort(unique(nonvoter_tab$wave))
n_waves <- length(waves_present)

# Build column names dynamically
col_labels <- c("Country")
for (w in waves_present) {
  col_labels <- c(col_labels, "N", "% NV")
}

# Build header grouping
header_groups <- c(" " = 1)
for (w in waves_present) {
  header_groups <- c(header_groups, setNames(2, paste0("Wave ", w)))
}

# Reorder columns to interleave N and % for each wave
col_order <- c("country_name")
for (w in waves_present) {
  col_order <- c(col_order, paste0("N_total_W", w), paste0("Pct_nonvote_W", w))
}
tab_wide <- tab_wide %>% select(any_of(col_order))

kbl(tab_wide,
    booktabs = TRUE,
    col.names = col_labels,
    align = c("l", rep("r", 2 * n_waves))) %>%
  kable_styling(latex_options = c("hold_position", "scale_down"),
                font_size = 9) %>%
  add_header_above(header_groups)
```

**Note:** N = total respondents with valid vote status; % NV = percentage who reported not voting. Australia's low non-voter rate reflects compulsory voting.

### Sample Selection Considerations

Because the analysis conditions on reported vote choice to assign electoral status, non-voters are excluded by design. In most country-waves, non-voter rates fall between 8 and 25 percent, consistent with the moderately high turnout typical of Asian democracies. Two patterns merit attention.

First, Myanmar exhibits the highest non-voter rate among the analysis countries, reaching 26 percent in Wave 4. This likely reflects the challenging political environment during the transitional period following decades of military rule, where many citizens may have been uncertain about electoral participation or faced practical barriers to voting.

Second, Australia and Thailand represent near-compulsory or high-turnout contexts where non-voter rates remain below 5 percent across waves. In these cases, selection into voting is effectively eliminated as a confound, and the persistence of the loser effect in Thailand---where the gap grew dramatically despite minimal sample selection---provides strong evidence that the findings are not driven by differential turnout between winners and losers.

The exclusion of non-voters means the analysis characterizes democratic conceptions among the politically engaged electorate rather than the population at large. However, the consistency of the loser effect across countries with vastly different non-voter rates (from 3.7 percent in Australia to 26 percent in Myanmar) suggests the pattern is robust to variation in the scope of sample selection.

# Full Country-Wave Results {#sec-country-wave}

## Item-Level Average Marginal Effects

```{r tbl-cw-ames-sets12}
#| tbl-cap: "Country-Wave AMEs: Sets 1-2"

if (!is.null(cw_ames)) {
  # Create short item labels for column headers
  item_labels <- c(
    "Free elections" = "Elections",
    "Party competition" = "Parties",
    "Basic necessities" = "Necessities",
    "Reduce inequality" = "Inequality",
    "Gov explain" = "Explain",
    "Free speech" = "Speech",
    "Jobs for all" = "Jobs",
    "Narrow income gap" = "Income gap",
    "Free media" = "Media",
    "Fair elections" = "Fair elect",
    "Low unemployment" = "Unemp",
    "Welfare for poor" = "Welfare",
    "Check government" = "Check gov",
    "Minority rights" = "Minority",
    "Equal income" = "Equal inc",
    "No corruption" = "No corrupt"
  )

  # Format for display with short labels
  cw_display <- cw_ames %>%
    filter(set %in% c("Set1", "Set2")) %>%
    mutate(
      sig = replace_na(sig, ""),
      ame_fmt = sprintf("%+.1f%s", ame * 100, sig),
      item_short = if_else(item %in% names(item_labels),
                           item_labels[item],
                           substr(item, 1, 10))
    ) %>%
    select(country_name, wave_label, set, item_short, ame_fmt) %>%
    pivot_wider(
      names_from = c(set, item_short),
      values_from = ame_fmt,
      names_sep = "_"
    ) %>%
    arrange(country_name, wave_label)

  # Get column names for header grouping
  col_names <- names(cw_display)
  set1_cols <- sum(grepl("^Set1_", col_names))
  set2_cols <- sum(grepl("^Set2_", col_names))

  # Clean column names (remove Set prefix)
  names(cw_display) <- gsub("^Set[12]_", "", names(cw_display))

  cw_display %>%
    rename(Country = country_name, Wave = wave_label) %>%
    kable(booktabs = TRUE, longtable = TRUE, align = c("l", "c", rep("r", set1_cols + set2_cols))) %>%
    kable_styling(latex_options = c("hold_position", "repeat_header", "scale_down"),
                  font_size = 8) %>%
    add_header_above(c(" " = 2, "Set 1" = set1_cols, "Set 2" = set2_cols)) %>%
    column_spec(1, width = "1.8cm") %>%
    column_spec(2, width = "0.6cm") %>%
    row_spec(seq(3, nrow(cw_display), by = 3), extra_css = "border-bottom: 1px solid #ccc;",
             extra_latex_after = "\\midrule")
} else {
  cat("**Warning:** Country-wave AME file not found.")
}
```

```{r tbl-cw-ames-sets34}
#| tbl-cap: "Country-Wave AMEs: Sets 3-4"

if (!is.null(cw_ames)) {
  # Create short item labels for column headers
  item_labels <- c(
    "Free elections" = "Elections",
    "Party competition" = "Parties",
    "Basic necessities" = "Necessities",
    "Reduce inequality" = "Inequality",
    "Gov explain" = "Explain",
    "Free speech" = "Speech",
    "Jobs for all" = "Jobs",
    "Narrow income gap" = "Income gap",
    "Free media" = "Media",
    "Fair elections" = "Fair elect",
    "Low unemployment" = "Unemp",
    "Welfare for poor" = "Welfare",
    "Check government" = "Check gov",
    "Minority rights" = "Minority",
    "Equal income" = "Equal inc",
    "No corruption" = "No corrupt"
  )

  # Format for display with short labels
  cw_display <- cw_ames %>%
    filter(set %in% c("Set3", "Set4")) %>%
    mutate(
      sig = replace_na(sig, ""),
      ame_fmt = sprintf("%+.1f%s", ame * 100, sig),
      item_short = if_else(item %in% names(item_labels),
                           item_labels[item],
                           substr(item, 1, 10))
    ) %>%
    select(country_name, wave_label, set, item_short, ame_fmt) %>%
    pivot_wider(
      names_from = c(set, item_short),
      values_from = ame_fmt,
      names_sep = "_"
    ) %>%
    arrange(country_name, wave_label)

  # Get column names for header grouping
  col_names <- names(cw_display)
  set3_cols <- sum(grepl("^Set3_", col_names))
  set4_cols <- sum(grepl("^Set4_", col_names))

  # Clean column names (remove Set prefix)
  names(cw_display) <- gsub("^Set[34]_", "", names(cw_display))

  cw_display %>%
    rename(Country = country_name, Wave = wave_label) %>%
    kable(booktabs = TRUE, longtable = TRUE, align = c("l", "c", rep("r", set3_cols + set4_cols))) %>%
    kable_styling(latex_options = c("hold_position", "repeat_header", "scale_down"),
                  font_size = 8) %>%
    add_header_above(c(" " = 2, "Set 3" = set3_cols, "Set 4" = set4_cols)) %>%
    column_spec(1, width = "1.8cm") %>%
    column_spec(2, width = "0.6cm") %>%
    row_spec(seq(3, nrow(cw_display), by = 3), extra_css = "border-bottom: 1px solid #ccc;",
             extra_latex_after = "\\midrule")
} else {
  cat("**Warning:** Country-wave AME file not found.")
}
```

**Note:** Values are average marginal effects in percentage points. Significance: \*\*\* p<0.001, \*\* p<0.01, \* p<0.05, † p<0.10.

## Procedural-Substantive Gap by Country-Wave

```{r tbl-cw-gap}
#| tbl-cap: "Procedural-Substantive Gap by Country and Wave"

if (!is.null(cw_gap)) {
  cw_gap %>%
    select(country_name, wave_label, wave,
           starts_with("proc_sub_gap"), starts_with("mean_n")) %>%
    mutate(
      gap_pp = sprintf("%+.1f", proc_sub_gap * 100),
      ci = sprintf("[%+.1f, %+.1f]",
                   proc_sub_gap_ci_low * 100,
                   proc_sub_gap_ci_high * 100),
      N = if("mean_n_procedural" %in% names(.)) {
        round(mean_n_procedural)
      } else NA_integer_
    ) %>%
    select(Country = country_name, Wave = wave_label,
           `Gap (pp)` = gap_pp, `95% CI` = ci) %>%
    arrange(Country, Wave) %>%
    kable(booktabs = TRUE) %>%
    kable_styling(latex_options = c("hold_position", "striped"))
} else {
  cat("**Warning:** Country-wave gap file not found.")
}
```

**Note:** Gap = (Mean Procedural AME) - (Mean Substantive AME). Positive values indicate losers favor procedural items more than substantive items relative to winners.

# Country Trajectory Plots {#sec-trajectories}

```{r fig-trajectories}
#| fig-cap: "Procedural-Substantive Gap Trajectories by Country"
#| fig-alt: "Faceted small-multiples plot showing procedural-substantive gap trajectories for each country with two or more survey waves. Each panel displays one country's trajectory as a blue line with shaded 95% confidence interval, spanning waves W3 (2010-12), W4 (2014-16), and W6 (2019-22). Countries are ordered by magnitude of change, with Thailand showing the largest increase (near zero to over 20 percentage points). Dashed horizontal line at zero in each panel separates procedural preference (above) from substantive preference (below). Most countries cluster near zero; Cambodia shows consistently high positive values; Indonesia and Taiwan show some negative values."
#| fig-width: 6.5
#| fig-height: 8
#| out-width: "100%"
#| fig-pos: "H"

if (!is.null(cw_gap)) {
  # Filter to countries with 2+ waves
  multi_wave <- cw_gap %>%
    group_by(country_name) %>%
    filter(n() >= 2) %>%
    ungroup()

  # Order by magnitude of change
  country_order <- multi_wave %>%
    group_by(country_name) %>%
    summarise(
      max_gap = max(proc_sub_gap, na.rm = TRUE),
      min_gap = min(proc_sub_gap, na.rm = TRUE),
      change = max_gap - min_gap
    ) %>%
    arrange(desc(change)) %>%
    pull(country_name)

  multi_wave <- multi_wave %>%
    mutate(country_name = factor(country_name, levels = country_order))

  ggplot(multi_wave, aes(x = wave, y = proc_sub_gap * 100)) +
    geom_ribbon(aes(ymin = proc_sub_gap_ci_low * 100,
                    ymax = proc_sub_gap_ci_high * 100),
                fill = "steelblue", alpha = 0.3) +
    geom_line(color = "steelblue", linewidth = 1) +
    geom_point(color = "steelblue", size = 2) +
    geom_hline(yintercept = 0, linetype = "dashed", color = "gray50") +
    facet_wrap(~country_name, ncol = 3) +
    scale_x_continuous(breaks = c(3, 4, 6),
                       labels = c("W3", "W4", "W6")) +
    labs(
      x = "Wave",
      y = "Procedural - Substantive Gap (pp)"
    ) +
    theme_minimal(base_size = 9) +
    theme(
      strip.text = element_text(face = "bold", size = 8),
      panel.grid.minor = element_blank(),
      axis.title = element_text(size = 9),
      axis.text = element_text(size = 7)
    )
} else {
  cat("**Warning:** Country-wave gap file not found. Cannot generate trajectory plot.")
}
```

**Note:** Countries are ordered by the magnitude of change in the procedural-substantive gap across waves, with Thailand (largest change) first. Positive gap values indicate losers prioritize procedural items more than substantive items, relative to winners.

# Demographic Controls Comparison {#sec-controls}

This section compares pooled average marginal effects estimated with and without demographic controls to assess the stability of the loser effect.

```{r tbl-controls-comparison}
#| tbl-cap: "Comparison of AMEs With and Without Demographic Controls"

# Load both results files
controlled <- safe_read(file.path(results_dir, "loser_effects_all_items.csv"), "csv")
uncontrolled <- safe_read(file.path(results_dir, "loser_effects_all_items_no_controls.csv"), "csv")

if (!is.null(controlled) && !is.null(uncontrolled)) {
  # Join and compare
  comparison <- controlled %>%
    select(set, item_label, item_type, ame_controlled = ame, sig_controlled = sig) %>%
    inner_join(
      uncontrolled %>% select(set, item_label, ame_uncontrolled = ame, sig_uncontrolled = sig),
      by = c("set", "item_label")
    ) %>%
    mutate(
      sig_controlled = replace_na(sig_controlled, ""),
      sig_uncontrolled = replace_na(sig_uncontrolled, ""),
      diff = ame_controlled - ame_uncontrolled
    )

  # Format for display
  comparison %>%
    mutate(
      `AME with controls (pp)` = sprintf("%+.1f%s", ame_controlled * 100, sig_controlled),
      `AME without controls (pp)` = sprintf("%+.1f%s", ame_uncontrolled * 100, sig_uncontrolled),
      `Difference (pp)` = sprintf("%+.2f", diff * 100)
    ) %>%
    select(
      Item = item_label,
      Type = item_type,
      `AME with controls (pp)`,
      `AME without controls (pp)`,
      `Difference (pp)`
    ) %>%
    kable(booktabs = TRUE, align = c("l", "l", "r", "r", "r")) %>%
    kable_styling(latex_options = c("hold_position", "striped"),
                  font_size = 9) %>%
    pack_rows("Set 1", 1, 4) %>%
    pack_rows("Set 2", 5, 8) %>%
    pack_rows("Set 3", 9, 12) %>%
    pack_rows("Set 4", 13, 16) %>%
    pack_rows("Wave 2", 17, 20)
} else {
  cat("**Warning:** Results files not found. Cannot generate comparison table.")
}
```

**Note:** Demographic controls include age, gender, education level, and urban/rural residence. The stability of estimates across specifications indicates that the loser effect is not driven by compositional differences between winner and loser populations. Significance: \*\*\* p<0.001, \*\* p<0.01, \* p<0.05, † p<0.10.

# Wave 2 Detailed Results {#sec-w2}

```{r tbl-w2-results}
#| tbl-cap: "Wave 2 Multinomial Logit Results"

if (!is.null(pooled_results)) {
  w2_results <- pooled_results %>%
    filter(set == "W2")

  if (nrow(w2_results) > 0) {
    w2_results %>%
      mutate(
        sig = replace_na(sig, ""),
        ame_pp = sprintf("%+.1f", ame * 100),
        se_pp = sprintf("(%.1f)", se * 100),
        ci = sprintf("[%+.1f, %+.1f]", ci_low * 100, ci_high * 100)
      ) %>%
      select(
        Item = item_label,
        Type = item_type,
        `AME (pp)` = ame_pp,
        SE = se_pp,
        `95% CI` = ci,
        Sig = sig
      ) %>%
      kable(booktabs = TRUE, align = c("l", "l", "r", "r", "c", "c")) %>%
      kable_styling(latex_options = c("hold_position"))
  } else {
    cat("No W2 results found in pooled results file.")
  }
} else {
  cat("**Warning:** Pooled results file not found.")
}
```

**Note:** Wave 2 employed a single forced-choice item asking respondents to identify the "most essential characteristic of democracy" from four options. Unlike Sets 1--4 in later waves, these options directly compared procedural (elections, criticize power) and substantive (income equality, basic necessities) conceptions within a single item. The AMEs represent the percentage-point difference in the probability of selecting each option between electoral losers and winners, controlling for country fixed effects and demographic characteristics.

# Non-Voter Rates and Sample Selection {#sec-appendix-nonvoters}

Because the analysis conditions on reported vote choice to assign electoral status, non-voters are excluded by design. This section assesses the scope and consequences of this exclusion.

Table G1 reports non-voter rates by country and wave for the eleven countries in the analysis sample. In most country-waves, non-voter rates fall between 8 and 25 percent, consistent with the moderately high turnout typical of Asian democracies. Rates are lowest in Thailand, where they never exceeded 10 percent, and highest in select waves of Malaysia, Myanmar, and Mongolia.

```{r tbl-F1-nonvoter-rates}
#| tbl-cap: "Non-Voter Rates by Country and Wave"

rates <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                       "revised", "results", "nonvoter_preanalysis",
                       "nonvoter_rates_by_country_wave.csv"),
                  show_col_types = FALSE)

kbl(rates, booktabs = TRUE, align = c("l", rep("r", ncol(rates) - 1))) %>%
  kable_styling(latex_options = c("hold_position", "scale_down"))
```

A more direct test examines whether non-voters' democratic conceptions systematically resemble those of winners or losers. Table G2 reports the procedural-substantive gap across three groups: winners, losers, and non-voters. Non-voters' gap (14.3 percentage points, 95% CI: 12.7--15.8) is virtually identical to that of winners (13.9 pp, 95% CI: 13.2--14.7) and clearly below that of losers (17.3 pp, 95% CI: 16.3--18.3).

```{r tbl-F2-procsub-gap}
#| tbl-cap: "Procedural-Substantive Gap by Electoral Status Group"

procsub <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                         "revised", "results", "nonvoter_preanalysis",
                         "procsub_gap_by_group.csv"),
                    show_col_types = FALSE)

kbl(procsub, booktabs = TRUE, digits = 3) %>%
  kable_styling(latex_options = c("hold_position"))
```

Table G3 disaggregates these patterns by item set.

```{r tbl-F3-item-proportions}
#| tbl-cap: "Item Choice Proportions by Electoral Status Group"

three_group <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                             "revised", "results", "nonvoter_preanalysis",
                             "three_group_item_proportions.csv"),
                        show_col_types = FALSE)

kbl(three_group, booktabs = TRUE, digits = 3) %>%
  kable_styling(latex_options = c("hold_position", "scale_down"))
```

**Note:** L - W = Loser minus Winner; NV - W = Non-voter minus Winner. Positive values on procedural items indicate greater procedural orientation relative to winners.

Table G4 reports pairwise chi-square tests confirming that non-voters differ more from losers than from winners across all item sets (Cramér's V for the loser--non-voter comparison ranges from 0.020 to 0.052, consistently exceeding the winner--non-voter comparison of 0.021 to 0.038).

```{r tbl-F4-pairwise-tests}
#| tbl-cap: "Pairwise Chi-Square Tests and Effect Sizes"

chisq <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                       "revised", "results", "nonvoter_preanalysis",
                       "pairwise_chisq_tests.csv"),
                  show_col_types = FALSE)

kbl(chisq, booktabs = TRUE, digits = 3) %>%
  kable_styling(latex_options = c("hold_position"))
```

These patterns indicate that non-voters resemble winners who chose not to participate rather than disaffected citizens with distinctive democratic conceptions. Their exclusion does not inflate the estimated loser effect.

# Fairness Interaction: Positional Updating vs. Stable Commitments {#sec-fairness}

As a further test distinguishing positional updating from stable normative commitments, the analysis interacts loser status with perceived electoral fairness (ABS Q43, dichotomized into fair versus unfair). The design follows @Mauk2022-xx, who demonstrates that electoral integrity conditions the relationship between political losing and political trust across 45 democracies using harmonized ABS, ESS, and Latinobarómetro data. The logic also draws on research on motivated reasoning [@Kunda1990-uw; @Taber2006-kx] and loss aversion [@Kahneman1979-af]: if the loser effect reflects positional updating, it should intensify among losers who perceive elections as unfair---those for whom the procedural threat is most salient. If it instead reflects stable dispositional commitments to procedural democracy, the interaction should be weak: committed proceduralists would prioritize procedures regardless of fairness perceptions. Perceived fairness is itself endogenous to electoral status---losers tend to rate elections as less fair---but the interaction nonetheless provides leverage because it tests for heterogeneity *within* the loser group.

```{r tbl-fairness-interaction}
#| tbl-cap: "Loser Effect by Perceived Electoral Fairness"

fairness <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                          "revised", "results",
                          "robustness_fairness_interaction.csv"),
                     show_col_types = FALSE)

fairness %>%
  mutate(
    loser_fair_pp = sprintf("%+.1f", loser_effect_fair * 100),
    loser_unfair_pp = sprintf("%+.1f", loser_effect_unfair * 100),
    interaction_pp = sprintf("%+.1f", interaction * 100)
  ) %>%
  select(
    Item = item,
    Set = set,
    Type = item_type,
    `Loser Effect: Fair (pp)` = loser_fair_pp,
    `Loser Effect: Unfair (pp)` = loser_unfair_pp,
    `Interaction (pp)` = interaction_pp
  ) %>%
  kbl(booktabs = TRUE, align = c("l", "l", "l", "r", "r", "r")) %>%
  kable_styling(latex_options = c("hold_position", "striped"),
                font_size = 9) %>%
  pack_rows("Set 1", 1, 4) %>%
  pack_rows("Set 2", 5, 8) %>%
  pack_rows("Set 3", 9, 12) %>%
  pack_rows("Set 4", 13, 16)
```

**Note:** The loser effect columns report the difference in predicted probability of selecting each item between losers and winners, separately for respondents who perceive elections as fair versus unfair. The interaction column reports the difference between these two effects (unfair minus fair); positive values on procedural items indicate that the loser effect is amplified among those perceiving unfair elections, consistent with positional updating.

```{r fig-fairness}
#| fig-cap: "Loser Effect by Perceived Electoral Fairness"
#| out-width: "100%"

knitr::include_graphics(here("papers", "meaning-of-democracy-revision", "analysis",
                             "revised", "results",
                             "fig_robustness_fairness.pdf"))
```

The results are consistent with the positional account. Among procedural items, the majority show a positive interaction---the loser effect is larger among those who perceive elections as unfair. The pattern is particularly striking for court protection (+6.0 pp), media freedom (+3.5 pp), and free expression (+1.5 pp). Among substantive items, the interaction is more mixed, though unemployment aid shows a large negative interaction (--8.4 pp), indicating that losers perceiving unfair elections shift *away* from substantive conceptions even more strongly. These patterns suggest that the loser effect is amplified by perceived procedural threat rather than reflecting a fixed orientation.

# Three-Way Loser Decomposition {#sec-threeway}

A natural extension of the binary winner-loser framework decomposes losers into **key opposition** supporters (those who voted for the main opposition party or coalition) and **other** losers (minor party voters, independents). If the procedural orientation is driven by strategic positioning, it should be concentrated among key opposition supporters---those with a realistic path back to power---rather than diffused across all losers. Party-level coding was feasible for three countries: Taiwan, South Korea, and Thailand, where coalition structures are well-documented and party codes can be reliably mapped to electoral blocs across waves.[^threeway-note]

[^threeway-note]: For Taiwan, the three-way coding references legislative majorities to determine coalition membership, whereas the main analysis uses the ABS pre-coded electoral status based on presidential elections. This design choice does not affect the internal validity of the decomposition, which compares groups within the three-way framework only.

```{r tbl-threeway-props}
#| tbl-cap: "Item Choice Proportions by Three-Way Electoral Status (Pooled)"

threeway <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                          "revised", "results",
                          "threeway_item_proportions.csv"),
                     show_col_types = FALSE)

if (!is.null(threeway) && nrow(threeway) > 0) {
  threeway %>%
    select(Item = item_label, Type = item_type,
           Winner, `Key Opp.` = `Key Opposition`, Other,
           `KO -- W` = `KO - W`, `Other -- W` = `Other - W`) %>%
    kbl(booktabs = TRUE, digits = 3, escape = FALSE,
        align = c("l", "l", "r", "r", "r", "r", "r")) %>%
    kable_styling(latex_options = c("hold_position", "striped"),
                  font_size = 9) %>%
    pack_rows("Set 1", 1, 4) %>%
    pack_rows("Set 2", 5, 8) %>%
    pack_rows("Set 3", 9, 12) %>%
    pack_rows("Set 4", 13, 16)
} else {
  cat("**Note:** Run 08_threeway_decomposition.qmd to generate results.")
}
```

```{r tbl-threeway-country}
#| tbl-cap: "Key Opposition vs. Winner: Procedural-Substantive Gap by Country"

country_gaps <- read_csv(here("papers", "meaning-of-democracy-revision", "analysis",
                              "revised", "results",
                              "threeway_country_gaps.csv"),
                         show_col_types = FALSE)

if (!is.null(country_gaps) && nrow(country_gaps) > 0) {
  country_gaps %>%
    kbl(booktabs = TRUE, digits = 3,
        align = c("l", "r", "r", "r", "r", "r", "r")) %>%
    kable_styling(latex_options = c("hold_position"),
                  font_size = 9)
} else {
  cat("**Note:** Run 08_threeway_decomposition.qmd to generate results.")
}
```

The decomposition yields no clear differentiation between key opposition supporters and other losers. Pooled across three countries ($N = 7{,}640$ respondents with valid three-way coding), key opposition voters show a mean procedural difference of $-0.016$ relative to winners---the *opposite* of the predicted direction, with only 2 of 8 procedural items positive. The procedural-substantive gap between key opposition and winners ($-0.042$) is small and runs counter to theory. By country, only South Korea shows a weakly positive gap ($+0.025$); Taiwan ($-0.016$) and Thailand ($-0.080$) both run in the opposite direction.

These null results likely reflect two factors. First, the limited country coverage (3 of 14 analysis countries) substantially reduces statistical power and eliminates much of the cross-national variation that drives the main results. Second, the additional missingness inherent in party-level coding further shrinks effective sample sizes, particularly for the "other" category. The binary winner-loser distinction, which the ABS pre-codes across all surveyed countries, provides broader coverage and cleaner identification. The three-way decomposition remains a promising avenue for future research with more granular partisan data covering a wider set of countries.

# References {-}

::: {#refs}
:::
