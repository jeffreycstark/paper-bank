# Meaning of Democracy - Validated YAML (v2)
# Forced-choice questions about essential characteristics of democracy
# Each set presents 4 options mixing substantive/economic and procedural/political choices
# NOTE: W1/W2/W5 have different question formats - those excluded; W3/W4/W6 have matched sets
# Validated 2025-01-11

missing_conventions:
  treat_as_na:
    codes: [-1, 0, 7, 8, 9, 97, 98, 99]
    description: "Standard missing codes"

variables:
  # ===========================================================================
  # Essential Characteristics Sets (4 sets, W3/W4/W6 only)
  # Nominal: respondent picks 1 of 4 options
  # ===========================================================================

  - id: dem_meaning_set1
    concept: meaning_of_democracy
    description: "Most essential characteristic of democracy - Set 1 (equality/election/efficiency/expression)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: q85
      w4: q88
      w5: null
      w6: q85

    scale:
      min: 1
      max: 4
      labels:
        1: "Government narrows gap between rich and poor"
        2: "People choose leaders in free and fair elections"
        3: "Government does not waste public money"
        4: "People free to express political views openly"
      note: "Options 1,3 = substantive/economic; Options 2,4 = procedural/political"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 4]
      validate:
        - waves: [w3, w4, w6]
          phrase: "essential.*characteristic|gap.*rich.*poor|free.*fair.*election"

  - id: dem_meaning_set2
    concept: meaning_of_democracy
    description: "Most essential characteristic of democracy - Set 2 (oversight/basic needs/organize/services)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: q86
      w4: q89
      w5: null
      w6: q86

    scale:
      min: 1
      max: 4
      labels:
        1: "Legislature has oversight over government"
        2: "Basic necessities provided for all"
        3: "People free to organize political groups"
        4: "Government provides quality public services"
      note: "Options 2,4 = substantive/economic; Options 1,3 = procedural/political"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 4]
      validate:
        - waves: [w3, w4, w6]
          phrase: "oversight|basic necessit|organize.*group|public service"

  - id: dem_meaning_set3
    concept: meaning_of_democracy
    description: "Most essential characteristic of democracy - Set 3 (law-order/media freedom/jobs/multiparty)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: q87
      w4: q90
      w5: null
      w6: q87

    scale:
      min: 1
      max: 4
      labels:
        1: "Government ensures law and order"
        2: "Media free to criticize government"
        3: "Government ensures job opportunities for all"
        4: "Multiple parties compete fairly in elections"
      note: "Options 1,3 = substantive/security-economic; Options 2,4 = procedural/political"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 4]
      validate:
        - waves: [w3, w4, w6]
          phrase: "law and order|media.*free|job opportunit|multiple part"

  - id: dem_meaning_set4
    concept: meaning_of_democracy
    description: "Most essential characteristic of democracy - Set 4 (protests/anticorruption/courts/unemployment)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: q88
      w4: q91
      w5: null
      w6: q88

    scale:
      min: 1
      max: 4
      labels:
        1: "Freedom to take part in protests and demonstrations"
        2: "Politics is clean and free of corruption"
        3: "Courts protect ordinary people from government abuse"
        4: "People receive state aid if unemployed"
      note: "Options 2,4 = substantive; Options 1,3 = procedural"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 4]
      validate:
        - waves: [w3, w4, w6]
          phrase: "protest|demonstration|corruption|court.*protect|unemploy"
