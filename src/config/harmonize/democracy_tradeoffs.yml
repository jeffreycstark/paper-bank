# Democracy Tradeoffs - Comprehensive YAML (v2)
# Variables measuring attitudes toward democracy vs. other values

missing_conventions:
  treat_as_na:
    codes: [-1, 0, 7, 8, 9, 97, 98, 99]
    description: "Standard missing codes"

variables:
  # ===========================================================================
  # GROUP 1: Democracy Ratings of Other Countries
  # ===========================================================================

  - id: dem_rating_china
    concept: democracy_tradeoffs
    description: "Where would you place China today on a democracy scale? (1=undemocratic, 10=democratic)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: q120
      w4: q121
      w5: q128
      w6: q120

    scale:
      min: 1
      max: 10
      labels:
        1: "Completely undemocratic"
        10: "Completely democratic"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 10]
      validate:
        - waves: [w3, w4, w5, w6]
          phrase: "China.*scale|place.*China"

  - id: dem_rating_usa
    concept: democracy_tradeoffs
    description: "Where would you place the United States today on a democracy scale? (1=undemocratic, 10=democratic)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: q121
      w4: q122
      w5: q129
      w6: q121

    scale:
      min: 1
      max: 10
      labels:
        1: "Completely undemocratic"
        10: "Completely democratic"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 10]
      validate:
        - waves: [w3, w4, w5, w6]
          phrase: "United States.*scale|USA.*scale|place.*United States"

  - id: dem_rating_japan
    concept: democracy_tradeoffs
    description: "Where would you place Japan today on a democracy scale? (1=undemocratic, 10=democratic)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: null
      w4: null
      w5: q130
      w6: null
    note: "Wave 5 only"

    scale:
      min: 1
      max: 10
      labels:
        1: "Completely undemocratic"
        10: "Completely democratic"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 10]
      validate:
        - waves: [w5]
          phrase: "Japan.*scale|place.*Japan"

  - id: dem_rating_india
    concept: democracy_tradeoffs
    description: "Where would you place India today on a democracy scale? (1=undemocratic, 10=democratic)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: null
      w4: null
      w5: q131
      w6: null
    note: "Wave 5 only"

    scale:
      min: 1
      max: 10
      labels:
        1: "Completely undemocratic"
        10: "Completely democratic"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 10]
      validate:
        - waves: [w5]
          phrase: "India.*scale|place.*India"

  # ===========================================================================
  # GROUP 2: Democracy Preference
  # ===========================================================================

  - id: dem_always_preferable
    concept: democracy_tradeoffs
    description: "Democracy always preferable vs. authoritarian sometimes preferable vs. doesn't matter"
    type: nominal

    source:
      w1: q117
      w2: null
      w3: null
      w4: null
      w5: null
      w6: q124

    scale:
      min: 1
      max: 3
      labels:
        1: "Democracy is always preferable"
        2: "Authoritarian sometimes preferable"
        3: "Doesn't matter what kind of regime"

    harmonize:
      default:
        method: identity
        note: "Nominal - use as categorical variable"

    qc:
      valid_range: [1, 3]
      validate:
        - waves: [w6]
          phrase: "democracy.*preferable|authoritarian.*preferable"

  - id: dem_capable_solving
    concept: democracy_tradeoffs
    description: "Democracy is capable of solving society's problems vs. cannot solve"
    type: nominal

    source:
      w1: q118
      w2: null
      w3: null
      w4: null
      w5: null
      w6: q125

    scale:
      min: 1
      max: 2
      labels:
        1: "Democracy is capable of solving problems"
        2: "Democracy cannot solve problems"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w6]
          phrase: "democracy.*capable|cannot solve"

  # ===========================================================================
  # GROUP 3: Democracy vs. Development Tradeoffs
  # ===========================================================================

  - id: dem_vs_development
    concept: democracy_tradeoffs
    description: "If you had to choose between democracy and economic development, which is more important?"
    type: ordinal

    source:
      w1: q119
      w2: q123
      w3: q126
      w4: q127
      w5: q134
      w6: q126

    scale:
      min: 1
      max: 5
      labels:
        1: "Economic development definitely more important"
        2: "Economic development somewhat more important"
        3: "Both equally important"
        4: "Democracy somewhat more important"
        5: "Democracy definitely more important"

    harmonize:
      default:
        method: identity
        note: "Higher = more pro-democracy, middle = both important"

    qc:
      valid_range: [1, 5]
      validate:
        - waves: [w1, w2, w3, w4, w5, w6]
          phrase: "democracy.*economic development|economic development.*democracy"

  - id: dem_vs_equality
    concept: democracy_tradeoffs
    description: "If you had to choose between reducing economic inequality and protecting political freedom, which is more important?"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: q127
      w4: q128
      w5: q135
      w6: q127

    scale:
      min: 1
      max: 5
      labels:
        1: "Reducing inequality definitely more important"
        2: "Reducing inequality somewhat more important"
        3: "Both equally important"
        4: "Political freedom somewhat more important"
        5: "Political freedom definitely more important"

    harmonize:
      default:
        method: identity
        note: "Higher = more pro-freedom, middle = both important"

    qc:
      valid_range: [1, 5]
      validate:
        - waves: [w3, w4, w5, w6]
          phrase: "inequality.*freedom|freedom.*inequality"

  # ===========================================================================
  # GROUP 4: Democracy Statement Pairs (Wave 4)
  # Format: Main question + intensity follow-up
  # ===========================================================================

  - id: dem_statement_pair_1
    concept: democracy_tradeoffs
    description: "Which statement do you agree with most? (Statement pair 1)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: q79
      w5: q82
      w6: null
    note: "Wave 4/5 - paired statement item, see codebook for specific wording"

    scale:
      min: 1
      max: 2
      labels:
        1: "Statement A"
        2: "Statement B"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4, w5]
          phrase: "statement.*agree"

  - id: dem_statement_pair_1_intensity
    concept: democracy_tradeoffs
    description: "Do you strongly agree or just agree with the chosen statement? (Pair 1)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: null
      w4: q79a
      w5: q82a
      w6: null
    note: "Wave 4/5 - intensity follow-up"

    scale:
      min: 1
      max: 2
      labels:
        1: "Strongly agree"
        2: "Just agree"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4, w5]
          phrase: "strongly agree|just agree"

  - id: dem_statement_pair_2
    concept: democracy_tradeoffs
    description: "Which statement do you agree with most? (Statement pair 2)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: q80
      w5: null
      w6: null
    note: "Wave 4 - paired statement item, see codebook for specific wording"

    scale:
      min: 1
      max: 2
      labels:
        1: "Statement A"
        2: "Statement B"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4]
          phrase: "statement.*agree"

  - id: dem_statement_pair_2_intensity
    concept: democracy_tradeoffs
    description: "Do you strongly agree or just agree with the chosen statement? (Pair 2)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: null
      w4: q80a
      w5: null
      w6: null
    note: "Wave 4 - intensity follow-up to q80"

    scale:
      min: 1
      max: 2
      labels:
        1: "Strongly agree"
        2: "Just agree"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4]
          phrase: "strongly agree|just agree"

  - id: dem_statement_pair_3
    concept: democracy_tradeoffs
    description: "Which statement do you agree with most? (Statement pair 3)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: q81
      w5: null
      w6: null
    note: "Wave 4 - paired statement item, see codebook for specific wording"

    scale:
      min: 1
      max: 2
      labels:
        1: "Statement A"
        2: "Statement B"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4]
          phrase: "statement.*agree"

  - id: dem_statement_pair_3_intensity
    concept: democracy_tradeoffs
    description: "Do you strongly agree or just agree with the chosen statement? (Pair 3)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: null
      w4: q81a
      w5: null
      w6: null
    note: "Wave 4 - intensity follow-up to q81"

    scale:
      min: 1
      max: 2
      labels:
        1: "Strongly agree"
        2: "Just agree"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4]
          phrase: "strongly agree|just agree"

  - id: dem_statement_pair_4
    concept: democracy_tradeoffs
    description: "Which statement do you agree with most? (Statement pair 4)"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: q82
      w5: null
      w6: null
    note: "Wave 4 - paired statement item, see codebook for specific wording"

    scale:
      min: 1
      max: 2
      labels:
        1: "Statement A"
        2: "Statement B"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4]
          phrase: "statement.*agree"

  - id: dem_statement_pair_4_intensity
    concept: democracy_tradeoffs
    description: "Do you strongly agree or just agree with the chosen statement? (Pair 4)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: null
      w4: q82a
      w5: null
      w6: null
    note: "Wave 4 - intensity follow-up to q82"

    scale:
      min: 1
      max: 2
      labels:
        1: "Strongly agree"
        2: "Just agree"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4]
          phrase: "strongly agree|just agree"

  - id: dem_statement_opinion
    concept: democracy_tradeoffs
    description: "Which of the following statements comes closest to your own opinion?"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: q125
      w5: q132
      w6: null
    note: "Wave 4/5 - statement choice item, see codebook for specific options"

    scale:
      min: 1
      max: 3
      labels:
        1: "Statement A"
        2: "Statement B"
        3: "Statement C"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 3]
      validate:
        - waves: [w4, w5]
          phrase: "statement.*closest|opinion"

  - id: dem_statement_view
    concept: democracy_tradeoffs
    description: "Which of the following statements comes closer to your own view?"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: q126
      w5: q133
      w6: null
    note: "Wave 4/5 - statement choice item, see codebook for specific options"

    scale:
      min: 1
      max: 2
      labels:
        1: "Statement A"
        2: "Statement B"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w4, w5]
          phrase: "statement.*closer|view"

