# Democracy Tradeoffs - Comprehensive YAML (v2)
# Variables measuring attitudes toward democracy vs. other values

missing_conventions:
  treat_as_na:
    codes: [-1, 0, 7, 8, 9, 97, 98, 99]
    description: "Standard missing codes"

variables:
  # ===========================================================================
  # GROUP 1: Democracy Ratings of Other Countries
  # ===========================================================================

  - id: dem_rating_china
    concept: democracy_tradeoffs
    description: "Where would you place China today on a democracy scale? (1=undemocratic, 10=democratic)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: q120
      w4: q121
      w5: q128
      w6: q120

    scale:
      min: 1
      max: 10
      labels:
        1: "Completely undemocratic"
        10: "Completely democratic"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 10]
      validate:
        - waves: [w3, w4, w5, w6]
          phrase: "China.*scale|place.*China"

  - id: dem_rating_usa
    concept: democracy_tradeoffs
    description: "Where would you place the United States today on a democracy scale? (1=undemocratic, 10=democratic)"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: q121
      w4: q122
      w5: q129
      w6: q121

    scale:
      min: 1
      max: 10
      labels:
        1: "Completely undemocratic"
        10: "Completely democratic"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 10]
      validate:
        - waves: [w3, w4, w5, w6]
          phrase: "United States.*scale|USA.*scale|place.*United States"

  # ===========================================================================
  # GROUP 2: Democracy Preference
  # ===========================================================================

  - id: dem_always_preferable
    concept: democracy_tradeoffs
    description: "Democracy always preferable vs. authoritarian sometimes preferable vs. doesn't matter"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: null
      w5: null
      w6: q124

    scale:
      min: 1
      max: 3
      labels:
        1: "Democracy is always preferable"
        2: "Authoritarian sometimes preferable"
        3: "Doesn't matter what kind of regime"

    harmonize:
      default:
        method: identity
        note: "Nominal - use as categorical variable"

    qc:
      valid_range: [1, 3]
      validate:
        - waves: [w6]
          phrase: "democracy.*preferable|authoritarian.*preferable"

  - id: dem_capable_solving
    concept: democracy_tradeoffs
    description: "Democracy is capable of solving society's problems vs. cannot solve"
    type: nominal

    source:
      w1: null
      w2: null
      w3: null
      w4: null
      w5: null
      w6: q125

    scale:
      min: 1
      max: 2
      labels:
        1: "Democracy is capable of solving problems"
        2: "Democracy cannot solve problems"

    harmonize:
      default:
        method: identity

    qc:
      valid_range: [1, 2]
      validate:
        - waves: [w6]
          phrase: "democracy.*capable|cannot solve"

  # ===========================================================================
  # GROUP 3: Democracy vs. Development Tradeoffs
  # ===========================================================================

  - id: dem_vs_development
    concept: democracy_tradeoffs
    description: "If you had to choose between democracy and economic development, which is more important?"
    type: ordinal

    source:
      w1: q119
      w2: q123
      w3: q126
      w4: q127
      w5: q134
      w6: q126

    scale:
      min: 1
      max: 5
      labels:
        1: "Economic development definitely more important"
        2: "Economic development somewhat more important"
        3: "Both equally important"
        4: "Democracy somewhat more important"
        5: "Democracy definitely more important"

    harmonize:
      default:
        method: identity
        note: "Higher = more pro-democracy, middle = both important"

    qc:
      valid_range: [1, 5]
      validate:
        - waves: [w1, w2, w3, w4, w5, w6]
          phrase: "democracy.*economic development|economic development.*democracy"

  - id: dem_vs_equality
    concept: democracy_tradeoffs
    description: "If you had to choose between reducing economic inequality and protecting political freedom, which is more important?"
    type: ordinal

    source:
      w1: null
      w2: null
      w3: q127
      w4: q128
      w5: q135
      w6: q127

    scale:
      min: 1
      max: 5
      labels:
        1: "Reducing inequality definitely more important"
        2: "Reducing inequality somewhat more important"
        3: "Both equally important"
        4: "Political freedom somewhat more important"
        5: "Political freedom definitely more important"

    harmonize:
      default:
        method: identity
        note: "Higher = more pro-freedom, middle = both important"

    qc:
      valid_range: [1, 5]
      validate:
        - waves: [w3, w4, w5, w6]
          phrase: "inequality.*freedom|freedom.*inequality"

